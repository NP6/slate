<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MailPerformance API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;,&quot;java&quot;,&quot;csharp&quot;,&quot;shell&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="json">Body / Response</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introductions">Introductions</h1>

<p>Welcome to the MailPerformance API! You can use our API to access MailPerformance API endpoints.</p>

<p>We have language bindings in php, java, C# and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>This example API documentation page was created with <a href="https://github.com/tripit/slate">Slate</a>.</p>

          <h1 id="authentication">Authentication</h1>
<pre class="highlight php"><code></code></pre>
<pre class="highlight java"><code></code></pre>
<pre class="highlight plaintext"><code></code></pre>

<p>MailPerformance uses API keys to allow access to the API.</p>

<p>MailPerformance expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">X-Key : ABCDEFGHIJKLM123456789</code></p>

<aside class="notice">
You must replace <code>ABCDEFGHIJKLM123456789</code> with your personal API key.
</aside>

          <h1 id="actions">Actions</h1>

<h2 id="get-all-actions">Get all Actions</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/actions/"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mailCampaign"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000AB1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Campaign"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-30T15:23:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"templating"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scheduler"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asap"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-30T15:23:00Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"monitor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"lastSent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-30T15:23:00Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mailMessage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000AB2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Message"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-30T15:23:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">910</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"templating"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all actions.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/actions</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>None</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-campaign">Get a specific Campaign</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mailCampaign"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000ABC"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"First"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:40:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"culture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fr-FR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contentFormat"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"useFormLinkSSL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"performance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"openingRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"clickRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unsubscribeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"mp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"increment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"webAnalyser"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WWC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultdomain"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Willy Waller Company"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Willy Waller 2006"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;html&gt;Content&lt;/html&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"scheduler"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asap"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"selected"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">12345</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"excluded"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"speed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/actions/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your action ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-an-action">Create an Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$action</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"type"</span>              <span class="o">=&gt;</span> <span class="s2">"smsCampaign"</span><span class="p">,</span>
    <span class="s2">"name"</span>              <span class="o">=&gt;</span> <span class="s2">"SMS Campaign From Doc"</span><span class="p">,</span>
    <span class="s2">"description"</span>       <span class="o">=&gt;</span> <span class="s2">"This is a description"</span><span class="p">,</span>
    <span class="s2">"informations"</span>      <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"folder"</span>        <span class="o">=&gt;</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s2">"category"</span>      <span class="o">=&gt;</span> <span class="kc">null</span>
    <span class="p">],</span>
    <span class="s2">"scheduler"</span>         <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"type"</span>          <span class="o">=&gt;</span> <span class="s2">"asap"</span>
    <span class="p">],</span>
    <span class="s2">"content"</span>           <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"textContent"</span>   <span class="o">=&gt;</span> <span class="s2">"This is a sms content"</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">from</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">from</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"prefix"</span><span class="o">,</span> <span class="s">"prefix"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"label"</span><span class="o">,</span> <span class="s">"label"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">reply</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">reply</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"reply"</span><span class="o">,</span> <span class="s">"address@reply.dev"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">headers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">headers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"from"</span><span class="o">,</span> <span class="n">from</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"reply"</span><span class="o">,</span> <span class="n">reply</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">content</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">content</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"headers"</span><span class="o">,</span> <span class="n">headers</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"subject"</span><span class="o">,</span> <span class="s">"Subject of the message"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"html"</span><span class="o">,</span> <span class="s">"Html message"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"text"</span><span class="o">,</span> <span class="s">"Text message"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">informations</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">informations</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"folder"</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"category"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">mailMessage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">mailMessage</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"mailMessage"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Message a retro valider"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"SMSCampaignFromApi"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"content"</span><span class="o">,</span> <span class="n">content</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"informations"</span><span class="o">,</span> <span class="n">informations</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">mailMessage</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span>
<span class="p">{</span>
    <span class="n">type</span> <span class="p">=</span> <span class="s">"smsCampaign"</span><span class="p">,</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"SMS Campaign From Doc"</span><span class="p">,</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">"This is a description"</span><span class="p">,</span>
    <span class="n">informations</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">folder</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
        <span class="n">category</span> <span class="p">=</span> <span class="k">null</span>
    <span class="p">},</span>
    <span class="n">scheduler</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">type</span> <span class="p">=</span> <span class="s">"asap"</span>
    <span class="p">},</span>
    <span class="n">content</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">textContent</span> <span class="p">=</span> <span class="s">"This is a sms content"</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/actions/"</span> -d <span class="s1">'
{    
    "type"              : "smsCampaign",
    "name"              : "SMS Campaign From Doc",
    "description"       : "This is a description",
    "informations"      : {
        "folder"        : null,
        "category"      : null
    },
    "scheduler"         : {
        "type"          : "asap"
    },
    "content"           : {
        "textContent"   : "This is a sms content"
    }
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smsCampaign"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000ABC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMS Campaign From Doc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-08T11:21:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"smsFormat"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"smsType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"textContent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a sms content"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"scheduler"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asap"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"segments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"selected"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"excluded"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"speed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates an action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<h4 id="sms-campaign">SMS Campaign</h4>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s type (&ldquo;smsCampaign&rdquo; for a sms campaign)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s description</td>
</tr>
<tr>
<td>informations</td>
<td>object</td>
<td>true</td>
<td>Object that contains multiple informations</td>
</tr>
<tr>
<td>&mdash;- folder</td>
<td>int</td>
<td>false</td>
<td>ID of the folder that will contain the sms campaign</td>
</tr>
<tr>
<td>&mdash;- category</td>
<td>int</td>
<td>false</td>
<td>ID of the category of the campaign</td>
</tr>
<tr>
<td>scheduler</td>
<td>object</td>
<td>false</td>
<td>Schedule the sending date</td>
</tr>
<tr>
<td>&mdash;- type</td>
<td>string</td>
<td>true</td>
<td>String representing the Sending Date (&ldquo;asap&rdquo; to lunch it right after validation)</td>
</tr>
<tr>
<td>content</td>
<td>object</td>
<td>true</td>
<td>Content of the sms</td>
</tr>
<tr>
<td>&mdash;- textContent</td>
<td>string</td>
<td>true</td>
<td>Content of the sms but in plain text fomat</td>
</tr>
</tbody></table>

<h4 id="mail-campaign">Mail Campaign</h4>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s type (&ldquo;mailCampaign&rdquo; for a mail campaing)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s description</td>
</tr>
<tr>
<td>informations</td>
<td>object</td>
<td>true</td>
<td>Object that contains multiple informations</td>
</tr>
<tr>
<td>&mdash;- folder</td>
<td>int</td>
<td>false</td>
<td>ID of the folder that will contain the sms campaign</td>
</tr>
<tr>
<td>&mdash;- category</td>
<td>int</td>
<td>false</td>
<td>ID of the category of the campaign</td>
</tr>
<tr>
<td>scheduler</td>
<td>object</td>
<td>false</td>
<td>Schedule the sending date</td>
</tr>
<tr>
<td>&mdash;- type</td>
<td>string</td>
<td>true</td>
<td>String representing the Sending Date (&ldquo;asap&rdquo; to lunch it right after validation)</td>
</tr>
<tr>
<td>content</td>
<td>object</td>
<td>true</td>
<td>Content of the mail</td>
</tr>
<tr>
<td>&mdash;- headers</td>
<td>object</td>
<td>true</td>
<td>Email header</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; from</td>
<td>object</td>
<td>true</td>
<td>Email adress that will be display in field &ldquo;from&rdquo;</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; prefix</td>
<td>string</td>
<td>true</td>
<td>The prefix is the part before the &rsquo;@&rsquo; character</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; domain</td>
<td>string</td>
<td>true</td>
<td>The domain is the part after the &rsquo;@&rsquo; character</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; label</td>
<td>string</td>
<td>true</td>
<td>The category for your mail</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; reply</td>
<td>string</td>
<td>true</td>
<td>Email adress</td>
</tr>
<tr>
<td>&mdash;- subject</td>
<td>string</td>
<td>true</td>
<td>Email&rsquo;s subject</td>
</tr>
<tr>
<td>&mdash;- html</td>
<td>string</td>
<td>true</td>
<td>Content of the mail in HTML format</td>
</tr>
<tr>
<td>&mdash;- text</td>
<td>string</td>
<td>true</td>
<td>Content of the mail in plain text format</td>
</tr>
<tr>
<td>&mdash;- Encoding</td>
<td>string</td>
<td>true</td>
<td>Email content encoding</td>
</tr>
</tbody></table>

<h4 id="sms-message">SMS Message</h4>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s type (&ldquo;smsMessage&rdquo; for a sms message)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s description</td>
</tr>
<tr>
<td>informations</td>
<td>object</td>
<td>true</td>
<td>Object that contains multiple informations</td>
</tr>
<tr>
<td>&mdash;- folder</td>
<td>int</td>
<td>false</td>
<td>ID of the folder that will contain the sms campaign</td>
</tr>
<tr>
<td>&mdash;- category</td>
<td>int</td>
<td>false</td>
<td>ID of the category of the campaign</td>
</tr>
<tr>
<td>content</td>
<td>object</td>
<td>true</td>
<td>Content of the sms</td>
</tr>
<tr>
<td>&mdash;- textContent</td>
<td>string</td>
<td>true</td>
<td>Content of the sms but in plain text fomat</td>
</tr>
</tbody></table>

<h4 id="mail-message">Mail Message</h4>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s type (&ldquo;mailMessage&rdquo; for a mail message)</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Action&rsquo;s description</td>
</tr>
<tr>
<td>informations</td>
<td>object</td>
<td>true</td>
<td>Object that contains multiple informations</td>
</tr>
<tr>
<td>&mdash;- folder</td>
<td>int</td>
<td>false</td>
<td>ID of the folder that will contain the sms campaign</td>
</tr>
<tr>
<td>&mdash;- category</td>
<td>int</td>
<td>false</td>
<td>ID of the category of the campaign</td>
</tr>
<tr>
<td>content</td>
<td>object</td>
<td>true</td>
<td>Content of the mail</td>
</tr>
<tr>
<td>&mdash;- headers</td>
<td>object</td>
<td>true</td>
<td>Email header</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; from</td>
<td>object</td>
<td>true</td>
<td>Email adress that will be display in field &ldquo;from&rdquo;</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; prefix</td>
<td>string</td>
<td>true</td>
<td>The prefix is the part before the &rsquo;@&rsquo; character</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; domain</td>
<td>string</td>
<td>true</td>
<td>The domain is the part after the &rsquo;@&rsquo; character</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; label</td>
<td>string</td>
<td>true</td>
<td>The category for your mail</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; reply</td>
<td>string</td>
<td>true</td>
<td>Email adress</td>
</tr>
<tr>
<td>&mdash;- subject</td>
<td>string</td>
<td>true</td>
<td>Email&rsquo;s subject</td>
</tr>
<tr>
<td>&mdash;- html</td>
<td>string</td>
<td>true</td>
<td>Content of the mail in HTML format</td>
</tr>
<tr>
<td>&mdash;- text</td>
<td>string</td>
<td>true</td>
<td>Content of the mail in plain text format</td>
</tr>
<tr>
<td>&mdash;- Encoding</td>
<td>string</td>
<td>true</td>
<td>Email content encoding</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-action">Update a specific Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$action</span> <span class="o">=</span>  <span class="p">[</span>
    <span class="s2">"type"</span>              <span class="o">=&gt;</span> <span class="s2">"mailMessage"</span><span class="p">,</span>
    <span class="s2">"name"</span>              <span class="o">=&gt;</span> <span class="s2">"Message UPDATED"</span><span class="p">,</span>
    <span class="s2">"description"</span>       <span class="o">=&gt;</span> <span class="s2">"Mail Message"</span><span class="p">,</span>
    <span class="s2">"informations"</span>      <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"folder"</span>        <span class="o">=&gt;</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s2">"category"</span>      <span class="o">=&gt;</span> <span class="kc">null</span>
    <span class="p">],</span>
    <span class="s2">"content"</span>           <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"text"</span>   <span class="o">=&gt;</span> <span class="s2">"Text message changed"</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">content</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">content</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"text"</span><span class="o">,</span> <span class="s">"Text message changed"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">informations</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">informations</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"folder"</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"category"</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">updateAction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">updateAction</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"mailMessage"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Message UPDATED"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Mail Message"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"content"</span><span class="o">,</span> <span class="n">content</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"informations"</span><span class="o">,</span> <span class="n">informations</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">updateAction</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">type</span> <span class="p">=</span> <span class="s">"mailMessage"</span><span class="p">,</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Message UPDATED"</span><span class="p">,</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">"Mail Message"</span><span class="p">,</span>
    <span class="n">informations</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span>
        <span class="n">folder</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span>
        <span class="n">category</span> <span class="p">=</span> <span class="k">null</span>
    <span class="p">},</span>
    <span class="n">content</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span><span class="n">text</span><span class="p">:</span> <span class="s">"Text message changed"</span><span class="p">}</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span> -d <span class="s1">'
{    
    "type"              : "smsCampaign",
    "name"              : "SMS Campaign From Doc",
    "description"       : "This is a description",
    "informations"      : {
        "folder"        : null,
        "category"      : null
    },
    "scheduler"         : {
        "type"          : "asap"
    },
    "content"           : {
        "textContent"   : "This is a sms content"
    }
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mailMessage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000ABC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message UPDATED"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mail Message"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T08:39:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"culture"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fr-FR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contentFormat"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"useFormLinkSSL"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"performance"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"openingRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"clickRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"unsubscribeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"mp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"increment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"webAnalyser"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"prefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultdomain"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="w">
            </span><span class="p">},</span><span class="w">    
            </span><span class="nt">"reply"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;demo&lt;/body&gt;&lt;/html&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text message changed"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint update a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/actions/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<p>The same as <a href="#create-an-action">Create an Action</a></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-action">Delete a specific Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -X DELETE <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC"</span>
</code></pre>

<p>This endpoint delete a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/actions/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to delete</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
</tbody></table>

<h2 id="duplicate-a-specific-action">Duplicate a specific Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/duplication"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/duplication"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/duplication"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/duplication"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"smsMessage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000ABD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMSMessage(1)"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SMSMessage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T07:50:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"folder"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="mi">1443</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
        </span><span class="nt">"smsFormat"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"smsType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"countries"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"textContent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Message text."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint duplicate a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/duplication</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to duplicate</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>NoContent &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; Action is no longer available</td>
</tr>
</tbody></table>

<h2 id="send-a-specific-message-action">Send a specific message Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span></code></pre>

<p>This endpoint sends a specific message to a target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/targets/&lt;TARGETID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to send</td>
</tr>
<tr>
<td>TARGETID</td>
<td>The ID of the target</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>NoContent &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="send-a-v4-message-with-overrides">Send a V4 message with overrides</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$overrides</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"views"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"html"</span> <span class="o">=&gt;</span> <span class="s2">"my new HTML"</span>
    <span class="p">],</span>
    <span class="s2">"data"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"my_key"</span> <span class="o">=&gt;</span> <span class="s2">"my value"</span>
    <span class="p">]</span>
<span class="p">]</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$overrides</span><span class="p">);</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"X-Key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">),</span>
    <span class="s2">"Content-Type: application/json"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.message"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">viewOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">viewOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"html"</span><span class="o">,</span> <span class="s">"my new HTML"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">dataOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">dataOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"my_key"</span><span class="o">,</span> <span class="s">"my value"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">messageOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">messageOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"views"</span><span class="o">,</span> <span class="n">viewOverride</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"data"</span><span class="o">,</span> <span class="n">dataOverride</span><span class="o">);</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">messageOverride</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.message"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"X-Key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.message"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
        <span class="n">views</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span>
            <span class="n">html</span> <span class="p">=</span> <span class="s">"my new HTML"</span>
        <span class="p">},</span>
        <span class="n">data</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
            <span class="n">my_key</span> <span class="p">=</span> <span class="s">"my value"</span>
        <span class="p">}</span>
    <span class="p">});</span>

<span class="n">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.message"</span> <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{"views": {"html": "my new HTML"}, "data": {"my_key": "my value"}}'</span> <span class="se">\</span>
      <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span>
</code></pre>

<blockquote class="lang-specific json" id="error-code-definitions">
  <p> The full body of the request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"views"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My new subject"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new HTML"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My company"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromPrefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycontact"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"replyTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reply@response.com"</span><span class="w">                
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"my_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cc_target_id"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bcc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"bcc_target_id"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint sends a v4 message to a target. You can override the parameters of the message.
<aside class="notice">
Check the language tab <code class="prettyprint">Body / Response</code> to get all the parameters of the body to override a message
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/targets/&lt;TARGETID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to send</td>
</tr>
<tr>
<td>TARGETID</td>
<td>The ID of the target</td>
</tr>
</tbody></table>

<h3 id="request-header">Request header</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>application/vnd.mperf.v8.message</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>NoContent &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="send-a-v4-message-and-return-the-conversation-id">Send a V4 message and return the conversation id</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$overrides</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"views"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"html"</span> <span class="o">=&gt;</span> <span class="s2">"my new HTML"</span>
    <span class="p">],</span>
    <span class="s2">"data"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"my_key"</span> <span class="o">=&gt;</span> <span class="s2">"my value"</span>
    <span class="p">]</span>
<span class="p">]</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$overrides</span><span class="p">);</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"X-Key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">),</span>
    <span class="s2">"Content-Type: application/json"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.message.id"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">viewOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">viewOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"html"</span><span class="o">,</span> <span class="s">"my new HTML"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">dataOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">dataOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"my_key"</span><span class="o">,</span> <span class="s">"my value"</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">messageOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">messageOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"views"</span><span class="o">,</span> <span class="n">viewOverride</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"data"</span><span class="o">,</span> <span class="n">dataOverride</span><span class="o">);</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">messageOverride</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.message.id"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"X-Key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.message.id"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
        <span class="n">views</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span>
            <span class="n">html</span> <span class="p">=</span> <span class="s">"my new HTML"</span>
        <span class="p">},</span>
        <span class="n">data</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> 
            <span class="n">my_key</span> <span class="p">=</span> <span class="s">"my value"</span>
        <span class="p">}</span>
    <span class="p">});</span>

<span class="n">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.message.id"</span> <span class="se">\</span>
     -X POST <span class="se">\</span>
     -d <span class="s1">'{"views": {"html": "my new HTML"}, "data": {"my_key": "my value"}}'</span> <span class="se">\</span>
      <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span>
</code></pre>

<blockquote class="lang-specific json" id="error-code-definitions">
  <p> The full body of the request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"views"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My new subject"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new HTML"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My company"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromPrefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycontact"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"replyTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reply@response.com"</span><span class="w">                
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"my_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cc_target_id"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bcc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"bcc_target_id"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
  <p> The response</p>
</blockquote>
<pre class="highlight json"><code><span class="s2">"&lt;conversationID&gt;"</span><span class="w">
</span></code></pre>

<p>This endpoint sends a v4 message to a target. You can override the parameters of the message.
<aside class="notice">
Check the language tab <code class="prettyprint">Body / Response</code> to get all the parameters of the body to override a message
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/targets/&lt;TARGETID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to send</td>
</tr>
<tr>
<td>TARGETID</td>
<td>The ID of the target</td>
</tr>
</tbody></table>

<h3 id="request-header">Request header</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Accept</td>
<td>application/vnd.mperf.v8.message.id</td>
</tr>
</tbody></table>

<h3 id="return-response">Return response</h3>

<p>The conversation id</p>
<pre class="highlight plaintext"><code>"36c93e82-dc16-4a72-bc36-63ecd2883f31"
</code></pre>

<p>See the section <a href="?json#conversations">Conversaton</a></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="send-a-v4-message-with-attachments">Send a V4 message with attachments</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$overrides</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"views"</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">"subject"</span> <span class="o">=&gt;</span> <span class="s2">"My new subject"</span>
    <span class="p">]</span>
<span class="p">];</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$overrides</span><span class="p">);</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"X-Key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.id.v1"</span>
<span class="p">];</span>

<span class="nv">$file_name_with_full_path</span> <span class="o">=</span> <span class="nb">realpath</span><span class="p">(</span><span class="s1">'path_to_the_file.jpg'</span><span class="p">);</span>

<span class="nv">$nameModel</span> <span class="o">=</span> <span class="s2">"model.json"</span><span class="p">;</span> <span class="c1">//On donne un nom au fichier que nous allons crée
</span><span class="nv">$modelFile</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nv">$nameModel</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">);</span> <span class="c1">//On crée le fichier model
</span><span class="nb">fwrite</span><span class="p">(</span><span class="nv">$modelFile</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span> <span class="c1">//On le remplit
</span><span class="nb">fclose</span><span class="p">(</span><span class="nv">$modelFile</span><span class="p">);</span> <span class="c1">//On le ferme aprés l'avoir remplit
</span>
<span class="nv">$postfields</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'model'</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">CURLFILE</span><span class="p">(</span><span class="nv">$nameModel</span><span class="p">,</span> <span class="s2">"application/json"</span><span class="p">),</span>
    <span class="s1">'attachments'</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">CURLFile</span><span class="p">(</span><span class="nv">$file_name_with_full_path</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">,</span> <span class="s1">'filename.jpg'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$postfields</span>
<span class="p">];</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nv">$ok</span> <span class="o">=</span> <span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span> <span class="o">!</span> <span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">))</span> 
    <span class="p">{</span> 
        <span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
    <span class="p">}</span> 
<span class="p">}</span>
<span class="nx">finally</span> <span class="p">{</span>
    <span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="cm">/* **** Dependencies *****
com.squareup.okhttp3:okhttp:3.4.22
org.apache.clerezza.ext:org.json.simple:0.42
*************************/</span>

<span class="n">JSONObject</span> <span class="n">modelOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">JSONObject</span> <span class="n">viewOverride</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">viewOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"subject"</span><span class="o">,</span> <span class="s">"My new subject"</span><span class="o">);</span>
<span class="n">modelOverride</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"views"</span><span class="o">,</span> <span class="n">viewOverride</span><span class="o">);</span>

<span class="kt">byte</span><span class="o">[]</span> <span class="n">model</span> <span class="o">=</span> <span class="n">modelOverride</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">getBytes</span><span class="o">();</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">RequestBody</span> <span class="n">requestBody</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MultipartBody</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="n">MultipartBody</span><span class="o">.</span><span class="na">FORM</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addFormDataPart</span><span class="o">(</span><span class="s">"model"</span><span class="o">,</span> <span class="s">"model.json"</span><span class="o">,</span>
            <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">MEDIA_TYPE_JSON</span><span class="o">,</span> <span class="n">model</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">model</span><span class="o">.</span><span class="na">length</span><span class="o">))</span>
    <span class="o">.</span><span class="na">addFormDataPart</span><span class="o">(</span><span class="s">"attachments"</span><span class="o">,</span> <span class="s">"image.jpg"</span><span class="o">,</span>
            <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">MEDIA_TYPE_PNG</span><span class="o">,</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"path_to_the_file.jpg"</span><span class="o">)))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.id.v1"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"X-Key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">requestBody</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="k">try</span> <span class="o">{</span>
    <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Mail sent"</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight csharp"><code><span class="cm">/* **** Dependencies *****
RestSharp 105.2.3
*************************/</span>

<span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"multipart/form-data"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.id.v1"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"model"</span><span class="p">,</span> <span class="s">"{'views': {'subject': 'My new subject'}}"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddFile</span><span class="p">(</span><span class="s">"attachments"</span><span class="p">,</span> <span class="s">"path_to_the_file.jpg"</span><span class="p">)</span>
    <span class="p">;</span>
<span class="n">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

</code></pre>
<pre class="highlight shell"><code> curl -H <span class="s2">"Accept: application/vnd.mperf.v8.id.v1"</span> <span class="se">\</span>
      -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -F <span class="s2">"attachments=@C:</span><span class="se">\\</span><span class="s2">path_to_the_file.jpg"</span> <span class="se">\</span>
      -F <span class="s2">"model={'views': {'subject': 'My new subject'}};type=application/json"</span> <span class="se">\</span>
      <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/targets/0000ABCD"</span>

</code></pre>

<blockquote class="lang-specific json" id="error-code-definitions">
  <p> The full body of the request</p>
</blockquote>
<pre class="highlight json"><code><span class="err">------boundary</span><span class="w">
</span><span class="err">Content-Disposition:</span><span class="w"> </span><span class="err">form-data;</span><span class="w"> </span><span class="err">name=</span><span class="s2">"attachments"</span><span class="err">;</span><span class="w"> </span><span class="err">filename=</span><span class="s2">"maxresdefault.jpg"</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">image/jpeg</span><span class="w">

</span><span class="err">........</span><span class="w">
</span><span class="err">------boundary</span><span class="w">
</span><span class="err">Content-Disposition:</span><span class="w"> </span><span class="err">form-data;</span><span class="w"> </span><span class="err">name=</span><span class="s2">"model"</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nt">"views"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My new subject"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new HTML"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my new text"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My company"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fromPrefix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mycontact"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"replyTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reply@response.com"</span><span class="w">                
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"my_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_value"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"cc_target_id"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bcc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"bcc_target_id"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">------boundary</span><span class="w">

</span></code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint sends a v4 message to a target with attachments. You can also override the parameters of the message.
<aside class="notice">
Check the language tab <code class="prettyprint">Body / Response</code> to get all the parameters of the body to override a message
</aside></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/targets/&lt;TARGETID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to send</td>
</tr>
<tr>
<td>TARGETID</td>
<td>The ID of the target</td>
</tr>
</tbody></table>

<h3 id="request-header">Request header</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>multipart/form-data</td>
</tr>
<tr>
<td>Accept</td>
<td>application/vnd.mperf.v8.id.v1</td>
</tr>
</tbody></table>

<h3 id="request-payload">Request payload</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>attachments</td>
<td>image/jpeg</td>
<td>The file to send with the Email</td>
</tr>
<tr>
<td>model</td>
<td>application/json</td>
<td>The model to override the Email</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

<h2 id="validate-a-specific-action">Validate a specific Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$actionValidation</span> <span class="o">=</span>  <span class="p">[</span>
    <span class="s2">"fortest"</span>           <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"campaignAnalyser"</span>  <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"testSegments"</span>      <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">14091</span><span class="p">],</span>
    <span class="s2">"mediaForTest"</span>      <span class="o">=&gt;</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"textandHtml"</span>       <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"comments"</span>          <span class="o">=&gt;</span> <span class="kc">null</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">actionValidation</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">actionValidation</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fortest"</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"campaignAnalyser"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"testSegments"</span><span class="o">,</span> <span class="o">{</span><span class="mi">12345</span><span class="o">})</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mediaForTest"</span><span class="o">,</span> <span class="kc">null</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"textandHtml"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"comments"</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">updateAction</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">var</span> <span class="n">testSegmentsVal</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[]</span> <span class="p">{</span><span class="m">12345</span><span class="p">};</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">fortest</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">campaignAnalyser</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">testSegments</span> <span class="p">=</span> <span class="n">testSegmentsVal</span><span class="p">,</span>
    <span class="n">mediaForTest</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">textandHtml</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">comments</span> <span class="p">=</span> <span class="k">null</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span> -d <span class="s1">'
{
    "fortest"           : true,
    "campaignAnalyser"  : false,
    "testSegments"      : [14091],
    "mediaForTest"      : null,
    "textandHtml"       : false,
    "comments"          : null
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint validate a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/actions/&lt;ID&gt;/validation</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to validate</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fortest</td>
<td>bool</td>
<td>false</td>
<td>Specifiy if the validation request is for a test or no</td>
</tr>
<tr>
<td>campaignAnalyser</td>
<td>bool</td>
<td>false</td>
<td>Specifiy of the Campaign Analyser will be used</td>
</tr>
<tr>
<td>testSegments</td>
<td>int array</td>
<td>false</td>
<td>Array containing the segments that will be use to test the action</td>
</tr>
<tr>
<td>mediaForTest</td>
<td>string</td>
<td>false</td>
<td>Email adress that will be use to test the action</td>
</tr>
<tr>
<td>textandHtml</td>
<td>bool</td>
<td>false</td>
<td>Specify if both text and html version of the action will be send</td>
</tr>
<tr>
<td>comments</td>
<td>string</td>
<td>false</td>
<td>Comments</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; Action is no longer available</td>
</tr>
</tbody></table>

<h2 id="unvalidate-a-specific-action">Unvalidate a specific Action</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -X DELETE <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/validation"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint unvalidate a specific action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/actions/&lt;ID&gt;/validation</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action to unvalidate</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; Action is no longer available</td>
</tr>
</tbody></table>

          <h1 id="conversations">Conversations</h1>

<h2 id="get-conversation-by-id">Get conversation by id</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/messages/&lt;CONVERSATION_ID&gt;"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/messages/&lt;CONVERSATION_ID&gt;"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/messages/&lt;CONVERSATION_ID&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/messages/&lt;CONVERSATION_ID&gt;"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w"> 
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"message"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"media"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"6dc5cd3d-e233-4359-be70-088833f89bff"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"actionId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"000JKG"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"target"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"000QE6KY"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"events"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"requested"</span><span class="p">,</span><span class="w"> </span><span class="nt">"date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-31T07:48:16.378Z"</span><span class="w"> </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"received"</span><span class="p">,</span><span class="w"> </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"smtp"</span><span class="p">,</span><span class="w"> </span><span class="nt">"date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-31T07:48:20Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"recipient"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx@yyy.com"</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w"> 
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>This endpoint retrieves all the conversation events for a specific conversation.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/messages/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the conversation to retrieve</td>
</tr>
</tbody></table>

<h3 id="conversation-types">Conversation types</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>requested</td>
<td>The message has been handled by the platform</td>
</tr>
<tr>
<td>received</td>
<td>The smtp server has sent the message</td>
</tr>
<tr>
<td>bounced</td>
<td>The message has bounced</td>
</tr>
<tr>
<td>canceled</td>
<td>The message has been canceled before be sent to the smtp server (ex: an error has occured during the rendering of the mail)</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your conversation ID was not found</td>
</tr>
</tbody></table>

          <h1 id="category">Category</h1>

<h2 id="get-all-categories">Get all Categories</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/categories"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/categories"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/categories"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/categories/"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"non_categorisee"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1235</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Old"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-15T07:54:00Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all categories.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/categories</code></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-category">Get a specific Category</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/categories/1234"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"non_categorisee"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific category.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/categories/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the category to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your category ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-a-specific-category">Create a specific Category</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$category</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"name"</span>                         <span class="o">=&gt;</span> <span class="s2">"New"</span><span class="p">,</span>
    <span class="s2">"description"</span>                  <span class="o">=&gt;</span> <span class="s2">"Category for new campaign"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$category</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/categories/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/createCategory.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/createCategory.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">category</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">category</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"New"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Category for new campaign"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>

<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">category</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/categories/"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/createCategory.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/createCategory.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/categories/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s">"New"</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="s">"Category for new campaign"</span>
  <span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/createCategory.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/createCategory.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>        <span class="se">\</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/categories/"</span> -d  <span class="se">\</span>
<span class="s1">'{                                                                    \
   name: "New",                                                       \
   description: "Category for new campaign"                           \
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Category for new campaign"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-15T07:54:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a category.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/categories/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Category&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>false</td>
<td>Category&rsquo;s description</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A category with this name already exists</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-category">Update a specific Category</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$category</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"name"</span>                         <span class="o">=&gt;</span> <span class="s2">"Updated"</span><span class="p">,</span>
    <span class="s2">"description"</span>                  <span class="o">=&gt;</span> <span class="s2">"Category for new campaign"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$category</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">category</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">category</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Updated"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Category for new campaign"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>

<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">category</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/categories/1234"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s">"Updated"</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="s">"Category for new campaign"</span>
  <span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>          <span class="se">\</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span> -d <span class="se">\</span>
<span class="s1">'{                                                                      \
   name: "Updated",                                                     \
   description: "Category for new campaign"                             \
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Category for new campaign"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-15T07:54:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a category.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/categories/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the category to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Category&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>false</td>
<td>Category&rsquo;s description</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your category ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A category with this name already exists</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-category">Delete a specific Category</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.dev/categories/1234"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/categories/1234"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -X DELETE <span class="s2">"https://backoffice.mailperformance.com/categories/1234"</span>
</code></pre>

<p>This endpoint delete a specific category.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/categories/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the category to delete</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your category ID was not found</td>
</tr>
</tbody></table>

          <h1 id="field">Field</h1>

<h2 id="get-all-field">Get all Field</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/fields/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/fields/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/fields/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/fields/"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is an array structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isUnicity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isMandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"textField"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12346</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isUnicity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isMandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all fields.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/fields</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>None</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-field">Get a specific Field</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isUnicity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isMandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/fields/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the field to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your field ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-a-field">Create a Field</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$field</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="s2">"type"</span>        <span class="o">=&gt;</span> <span class="s2">"textField"</span><span class="p">,</span>
  <span class="s2">"name"</span>        <span class="o">=&gt;</span> <span class="s2">"Firstname"</span><span class="p">,</span>
  <span class="s2">"isUnicity"</span>   <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"isMandatory"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"constraint"</span>  <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"operator"</span>    <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">"value"</span>       <span class="o">=&gt;</span> <span class="s2">"150"</span>
  <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$field</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/fields/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/createField.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/createField.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">JSONObject</span> <span class="n">constraint</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">constraint</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"operator"</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
          <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value"</span><span class="o">,</span> <span class="s">"150"</span><span class="o">);</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"textField"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Firstname"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isUnicity"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isMandatory"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"constraint"</span><span class="o">,</span> <span class="n">constraint</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/fields/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/createField.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/createField.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/fields/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
  <span class="n">type</span> <span class="p">=</span> <span class="s">"textField"</span><span class="p">,</span>
  <span class="n">name</span> <span class="p">=</span> <span class="s">"Firstname"</span><span class="p">,</span>
  <span class="n">isUnicity</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
  <span class="n">isMandatory</span> <span class="p">=</span> <span class="k">false</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/createField.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/createField.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/fields/"</span> -d <span class="s1">'
{    
    "type"        : "textField",
    "name"        : "Firstname",
    "isUnicity"   : false,
    "isMandatory" : false,
    "constraint"  : {
      "operator"  : 4,
      "value"     : "150"
    }
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"singleSelectList"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12347</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"civility"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isUnicity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isMandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"constraint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"valueListId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="err">//only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">singleSelectList</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">multipleSelectList</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/fields</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Field&rsquo;s type [&lsquo;singleSelectList&rsquo;, &#39;multipleSelectList&rsquo;, &#39;email&rsquo;, &#39;phone&rsquo;, &#39;textArea&rsquo;, &#39;numeric&rsquo;, &#39;textField&rsquo; or &#39;date&rsquo;]</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Field&rsquo;s name</td>
</tr>
<tr>
<td>isUnicity</td>
<td>boolean</td>
<td>true</td>
<td>True if used for unicity, no otherwise</td>
</tr>
<tr>
<td>isMandatory</td>
<td>boolean</td>
<td>true</td>
<td>True if the field is mandatory, no otherwise</td>
</tr>
<tr>
<td>constraint</td>
<td>object</td>
<td>false</td>
<td>Define a contraint for this field</td>
</tr>
<tr>
<td>&mdash;- operaor</td>
<td>int</td>
<td>false</td>
<td>Constraint operator</td>
</tr>
<tr>
<td>&mdash;- value</td>
<td>string</td>
<td>false</td>
<td>Constraint value</td>
</tr>
<tr>
<td>valueListId</td>
<td>int</td>
<td>false</td>
<td>The id of the associated value list</td>
</tr>
</tbody></table>

<h3 id="constraint-operator-list">Constraint operator list</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Operator</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>None</td>
</tr>
<tr>
<td>1</td>
<td>Greater than</td>
</tr>
<tr>
<td>2</td>
<td>Smaller than</td>
</tr>
<tr>
<td>3</td>
<td>Greater than or equal</td>
</tr>
<tr>
<td>4</td>
<td>Smaller than or equal</td>
</tr>
<tr>
<td>5</td>
<td>Equal</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A field with this name already exists</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-field">Update a specific Field</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$field</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="s2">"type"</span>        <span class="o">=&gt;</span> <span class="s2">"textField"</span><span class="p">,</span>
  <span class="s2">"name"</span>        <span class="o">=&gt;</span> <span class="s2">"Firstname"</span><span class="p">,</span>
  <span class="s2">"isUnicity"</span>   <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"isMandatory"</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"constraint"</span>  <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"operator"</span>    <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">"value"</span>       <span class="o">=&gt;</span> <span class="s2">"150"</span>
  <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$field</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">JSONObject</span> <span class="n">constraint</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">constraint</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"operator"</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
          <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value"</span><span class="o">,</span> <span class="s">"150"</span><span class="o">);</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"textField"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Firstname"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isUnicity"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isMandatory"</span><span class="o">,</span> <span class="kc">false</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"constraint"</span><span class="o">,</span> <span class="n">constraint</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
  <span class="n">type</span> <span class="p">=</span> <span class="s">"textField"</span><span class="p">,</span>
  <span class="n">name</span> <span class="p">=</span> <span class="s">"Firstname"</span><span class="p">,</span>
  <span class="n">isUnicity</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
  <span class="n">isMandatory</span> <span class="p">=</span> <span class="k">false</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span> -d <span class="s1">'
{    
    "type"        : "textField",
    "name"        : "Firstname",
    "isUnicity"   : false,
    "isMandatory" : false,
    "constraint"  : {
      "operator"  : 4,
      "value"     : "150"
    }
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"singleSelectList"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12347</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"civility"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isUnicity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isMandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"constraint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">     </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"operator"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"valueListId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="err">//only</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">singleSelectList</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">multipleSelectList</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a specific field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/fields/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the field to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Field&rsquo;s type [&#39;singleSelectList&rsquo;, &#39;multipleSelectList&rsquo;, &#39;email&rsquo;, &#39;phone&rsquo;, &#39;textArea&rsquo;, &#39;numeric&rsquo;, &#39;textField&rsquo; or &#39;date&rsquo;]</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Field&rsquo;s name</td>
</tr>
<tr>
<td>isUnicity</td>
<td>boolean</td>
<td>true</td>
<td>True if used for unicity, no otherwise</td>
</tr>
<tr>
<td>isMandatory</td>
<td>boolean</td>
<td>true</td>
<td>True if the field is mandatory, no otherwise</td>
</tr>
<tr>
<td>constraint</td>
<td>object</td>
<td>false</td>
<td>Define a contraint for this field</td>
</tr>
<tr>
<td>&mdash;- operaor</td>
<td>int</td>
<td>false</td>
<td>Constraint operator</td>
</tr>
<tr>
<td>&mdash;- value</td>
<td>string</td>
<td>false</td>
<td>Constraint value</td>
</tr>
<tr>
<td>valueListId</td>
<td>int</td>
<td>false</td>
<td>The id of the associated value list</td>
</tr>
</tbody></table>

<h3 id="constraint-operator-list">Constraint operator list</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Operator</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>None</td>
</tr>
<tr>
<td>1</td>
<td>Greater than</td>
</tr>
<tr>
<td>2</td>
<td>Smaller than</td>
</tr>
<tr>
<td>3</td>
<td>Greater than or equal</td>
</tr>
<tr>
<td>4</td>
<td>Smaller than or equal</td>
</tr>
<tr>
<td>5</td>
<td>Equal</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your field ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A field with this name already exists</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-field">Delete a specific Field</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/fields/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -X DELETE <span class="s2">"https://backoffice.mailperformance.com/fields/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p> The request doesn&rsquo;t return anything</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint deletes a specific field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/fields/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the field to delete</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your field ID was not found</td>
</tr>
</tbody></table>

          <h1 id="segment">Segment</h1>

<h2 id="get-all-segments">Get all Segments</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/segments/"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is an array structured like this:<br>
  -> First json is for a dynamic segment<br>
  -> Second json is for a static segment</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12346</span><span class="w"> </span><span class="err">//optional</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12347</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment static"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all segments.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/segments</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>None</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-segment">Get a specific Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  -> This json is for a dynamic segment</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12346</span><span class="w"> </span><span class="err">//optional</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
  <p>-> This json is for a static segment</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/segments/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the segment to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your segment ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-a-segment">Create a Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$segment</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="s2">"name"</span>        <span class="o">=&gt;</span> <span class="s2">"Test segment"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Segment's description"</span><span class="p">,</span>
  <span class="s2">"isTest"</span>      <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"type"</span>        <span class="o">=&gt;</span> <span class="s2">"static"</span><span class="p">,</span>
  <span class="s2">"expiration"</span>  <span class="o">=&gt;</span> <span class="s2">"2026-08-08T12:11:00Z"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$segment</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/Segments/createSegmentStatic.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/Segments/createSegmentStatic.php
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/Segments/createSegmentDynamic.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/Segments/createSegmentDynamic.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Test segment"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Segment's descrption"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isTest"</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"static"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"expiration"</span><span class="o">,</span> <span class="s">"2026-08-08T12:11:00Z"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/Segments/createSegmentStatic.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/Segments/createSegmentStatic.java
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/Segments/createSegmentDynamic.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/Segments/createSegmentDynamic.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span>  <span class="s">"Test segment"</span><span class="p">,</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">"Segment's descrption"</span><span class="p">,</span>
    <span class="n">isTest</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">type</span> <span class="p">=</span> <span class="s">"static"</span><span class="p">,</span>
    <span class="n">expiration</span> <span class="p">=</span> <span class="s">"2026-08-08T12:11:00Z"</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/Segments/createSegmentStatic.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/Segments/createSegmentStatic.cs
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/Segments/createSegmentDynamic.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/Segments/createSegmentDynamic.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/segments/"</span> -d <span class="s1">'
{
  "name"        : "Test segment",
  "description" : "Segment description",
  "isTest"      : true,
  "type"        : "static",
  "expiration"  : "2026-08-08T12:11:00Z"
}'</span>

</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  -> First json is for a dynamic segment</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12346</span><span class="w"> </span><span class="err">//optional</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
  <p>-> Second json is for a static segment</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">//optional</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/segments/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Segment&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Segment&rsquo;s description</td>
</tr>
<tr>
<td>isTest</td>
<td>boolean</td>
<td>true</td>
<td>If true, the segment can be used for the test phase</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Type of the segment [&lsquo;static&rsquo; or &#39;dynamic&rsquo;]</td>
</tr>
<tr>
<td>expiration</td>
<td>date</td>
<td>true</td>
<td>Segment&rsquo;s expiration date</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A segment with this name already exists</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-segment">Update a specific Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$segment</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="s2">"name"</span>        <span class="o">=&gt;</span> <span class="s2">"Test segment UPDATED"</span><span class="p">,</span>
  <span class="s2">"description"</span> <span class="o">=&gt;</span> <span class="s2">"Segment's description"</span><span class="p">,</span>
  <span class="s2">"isTest"</span>      <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"type"</span>        <span class="o">=&gt;</span> <span class="s2">"static"</span><span class="p">,</span>
  <span class="s2">"expiration"</span>  <span class="o">=&gt;</span> <span class="s2">"2026-08-08T12:11:00Z"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$segment</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Test segment UPDATED"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Segment's descrption"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"isTest"</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span> <span class="s">"static"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"expiration"</span><span class="o">,</span> <span class="s">"2026-08-08T12:11:00Z"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"cache-control"</span><span class="p">,</span> <span class="s">"no-cache"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Test segment UPDATED"</span><span class="p">,</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">"Segment's descrption"</span><span class="p">,</span>
    <span class="n">isTest</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">type</span> <span class="p">=</span> <span class="s">"static"</span><span class="p">,</span>
    <span class="n">expiration</span> <span class="p">=</span> <span class="s">"2026-08-08T12:11:00Z"</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span> -d <span class="s1">'
{
  "name"        : "Test segment",
  "description" : "Segment description",
  "isTest"      : true,
  "type"        : "static",
  "expiration"  : "2026-08-08T12:11:00Z"
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  -> First json is for a dynamic segment</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"parentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12346</span><span class="w"> </span><span class="err">//optional</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
  <p>-> Second json is for a static segment</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test segment"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segment's description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-01T10:22:00Z"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
    </span><span class="nt">"targetsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">//optional</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a specific segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/segments/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the segment to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Segment&rsquo;s name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>true</td>
<td>Segment&rsquo;s description</td>
</tr>
<tr>
<td>isTest</td>
<td>boolean</td>
<td>true</td>
<td>If true, the segment can be used for the test phase</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>true</td>
<td>Type of the segment [&#39;static&rsquo; or &#39;dynamic&rsquo;]</td>
</tr>
<tr>
<td>expiration</td>
<td>date</td>
<td>true</td>
<td>Segment&rsquo;s expiration date</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your segment ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A segment with this name already exists</td>
</tr>
</tbody></table>

<h2 id="empty-a-specific-segment">Empty a specific segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345/targets"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345/targets"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345/targets"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span>
     -X DELETE <span class="s2">"https://backoffice.mailperformance.com/segments/12345/targets"</span>
</code></pre>

<blockquote class="lang-specific json">
<p>No content</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint empty a specific segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/segments/&lt;ID&gt;/targets</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the segment you want to empty</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your segment ID was not found</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-segment">Delete a specific Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span>
     -X DELETE <span class="s2">"https://backoffice.mailperformance.com/segments/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
<p>No content</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint deletes a specific segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/segments/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the segment to delete</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your segment ID was not found</td>
</tr>
</tbody></table>

<h2 id="update-the-segment-with-the-target-unicities">Update the segment with the target unicities</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$unicities</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"unicity1"</span><span class="p">,</span>
    <span class="s2">"unicity2"</span><span class="p">,</span>
    <span class="s2">"unicity3"</span>
<span class="p">]</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$unicities</span><span class="p">);</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">),</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.unicity"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/segments/12345/targets"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">string</span><span class="o">[]</span> <span class="n">stringArray</span> <span class="o">=</span> <span class="o">{</span>
    <span class="s">"unicity1"</span><span class="o">,</span>
    <span class="s">"unicity2"</span><span class="o">,</span>
    <span class="s">"unicity3"</span>
<span class="o">};</span>
<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">stringArray</span><span class="o">));</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/segments/:idSegment/targets"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"X-Key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.unicity"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/segments/:idSegment/targets"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.unicity"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddBody</span><span class="p">([</span>
        <span class="s">"unicity1"</span><span class="p">,</span>
        <span class="s">"unicity2"</span><span class="p">,</span>
        <span class="s">"unicity3"</span>
    <span class="p">]);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.unicity"</span> <span class="se">\</span>
     -X PUT <span class="se">\</span>
     -d <span class="s1">'["unicity1","unicity2","unicity3"]'</span> <span class="se">\</span>
     <span class="s2">"https://backoffice.mailperformance.com/segments/:idSegment/targets"</span>
</code></pre>

<blockquote class="lang-specific json" id="error-code-definitions">
  <p> The full body of the request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
 </span><span class="s2">"unicity1"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"unicity2"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"unicity3"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote class="lang-specific json">
<p>The response from the API returns the number of target inserted into the segment<br>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint update a specific segment with targets defined by their unicities.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/segments/{id}/targets&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the segment to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string array</td>
<td>true</td>
<td>string array of targets unicities</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your segment ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
</tr>
</tbody></table>

          <h1 id="target">Target</h1>

<h2 id="get-all-targets">Get all Targets</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets/"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is an array structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all targets.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>None</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-target-by-id">Get a specific Target by ID</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  Note: <b>bounce</b> and <b>redList</b> can be empty.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-25T14:27:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"8101"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8102"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">8102</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"mail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific target using its ID.</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target ID was not found</td>
</tr>
</tbody></table>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the target to retrieve</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-target-by-unicity">Get a specific Target by unicity</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/getTargetFromUnicity.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/getTargetFromUnicity.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/getTargetFromUnicity.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/getTargetFromUnicity.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/getTargetFromUnicity.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/getTargetFromUnicity.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  Note: <b>bounce</b> and <b>redList</b> can be empty.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-25T14:27:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"8101"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8102"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">8102</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"mail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific target using its unicity.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets?unicity=&lt;UNICITY&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UNICITY</td>
<td>The uncity of the target to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target unicity was not found</td>
</tr>
</tbody></table>

<h2 id="create-or-update-a-target">Create or update a Target</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$target</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="mi">8101</span>  <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="mi">8102</span>  <span class="o">=&gt;</span> <span class="s2">"Test"</span><span class="p">,</span>
  <span class="mi">8103</span>  <span class="o">=&gt;</span> <span class="s2">"test@test.com"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$target</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/postTarget.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/postTarget.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8101"</span><span class="o">,</span> <span class="s">"Mr"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8102"</span><span class="o">,</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8103"</span><span class="o">,</span> <span class="s">"test@test.com"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/postTarget.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/postTarget.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8101"</span><span class="p">,</span> <span class="s">"Mr"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8102"</span><span class="p">,</span> <span class="s">"Test"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8103"</span><span class="p">,</span> <span class="s">"test@test.com"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/postTarget.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/postTarget.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/targets?unicity=test@test.com"</span> -d <span class="s1">'
{
    "8101": "Mr",
    "8102": "Test",
    "8103": "test@test.com"
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  Note: <b>bounce</b> and <b>redList</b> can be empty.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-25T14:27:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"8101"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8102"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">8102</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"mail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a target or update it if it already exists using its unicity.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/targets?unicity=&lt;UNICITY&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UNICITY</td>
<td>The unicity of the target to find (if not found, will be create)</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>FIELD ID</td>
<td>string</td>
<td>true</td>
<td>FIELD ID is the id of the field. You have to use it to associate a value to a field.</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="create-a-target">Create a Target</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$target</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="mi">8101</span>  <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="mi">8102</span>  <span class="o">=&gt;</span> <span class="s2">"Test"</span><span class="p">,</span>
  <span class="mi">8103</span>  <span class="o">=&gt;</span> <span class="s2">"test@test.com"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$target</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/postTarget.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/postTarget.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8101"</span><span class="o">,</span> <span class="s">"Mr"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8102"</span><span class="o">,</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8103"</span><span class="o">,</span> <span class="s">"test@test.com"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/postTarget.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/postTarget.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8101"</span><span class="p">,</span> <span class="s">"Mr"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8102"</span><span class="p">,</span> <span class="s">"Test"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8103"</span><span class="p">,</span> <span class="s">"test@test.com"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/postTarget.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/postTarget.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/targets/"</span> -d <span class="s1">'
{
    "8101": "Mr",
    "8102": "Test",
    "8103": "test@test.com"
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  Note: <b>bounce</b> and <b>redList</b> can be empty.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-25T14:27:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"8101"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8102"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">8102</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"mail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/targets/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>FIELD ID</td>
<td>string</td>
<td>true</td>
<td>FIELD ID is the id of the field. You have to use it to associate a value to a field.</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A target with this unicity already exists</td>
</tr>
</tbody></table>

<h2 id="update-a-specific-target">Update a specific Target</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$target</span> <span class="o">=</span>  <span class="p">[</span>
  <span class="mi">8101</span>  <span class="o">=&gt;</span> <span class="s2">"Mr"</span><span class="p">,</span>
  <span class="mi">8102</span>  <span class="o">=&gt;</span> <span class="s2">"Test"</span><span class="p">,</span>
  <span class="mi">8103</span>  <span class="o">=&gt;</span> <span class="s2">"test@test.com"</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$target</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span><span class="p">,</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">json</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">json</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8101"</span><span class="o">,</span> <span class="s">"Mr"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8102"</span><span class="o">,</span> <span class="s">"Test"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"8103"</span><span class="o">,</span> <span class="s">"test@test.com"</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">json</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8101"</span><span class="p">,</span> <span class="s">"Mr"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8102"</span><span class="p">,</span> <span class="s">"Test"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"8103"</span><span class="p">,</span> <span class="s">"test@test.com"</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The response from the API is a json structured like this:<br>
  Note: <b>bounce</b> and <b>redList</b> can be empty.</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span> -d <span class="s1">'
{
    "8101": "Mr",
    "8102": "Test",
    "8103": "test@test.com"
}'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000MLGPR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T08:55:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastUpdateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-25T14:27:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"8101"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8102"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"8103"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="mi">8102</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"redList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"mail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"sms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1465831160"</span><span class="p">,</span><span class="w"> </span><span class="err">//optional</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint updates a specific target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/targets/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the target to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>FIELD ID</td>
<td>string</td>
<td>true</td>
<td>FIELD ID is the id of the field. You have to use it to associate a value to a field.</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A target with this unicity already exists</td>
</tr>
</tbody></table>

<h2 id="add-a-target-to-a-segment">Add a Target to a Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="kc">null</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
<p>No content</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint add a specific target to a specific segment.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/targets/&lt;targetID&gt;/segments/&lt;segmentID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>targetID</td>
<td>The ID of the target to add</td>
</tr>
<tr>
<td>segmentID</td>
<td>The ID of the segment in wich the target will be add</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target or segment ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; This target is already in the segment</td>
</tr>
</tbody></table>

<h2 id="remove-a-target-from-a-segment">Remove a Target from a Segment</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X DELETE <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR/segments/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
<p>No content</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint removes a specific target from a specific segment.</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target or segment ID was not found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; You can&rsquo;t remove a target from a dynamic segment</td>
</tr>
</tbody></table>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/targets/&lt;targetID&gt;/segments/&lt;segmentID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>targetID</td>
<td>The ID of the target to remove</td>
</tr>
<tr>
<td>segmentID</td>
<td>The ID of the segment from wich the target will be remove</td>
</tr>
</tbody></table>

<h2 id="delete-a-specific-target">Delete a specific Target</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"DELETE"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">delete</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/000MLGPR"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">DELETE</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X DELETE <span class="s2">"https://backoffice.mailperformance.com/targets/000MLGPR"</span>
</code></pre>

<blockquote class="lang-specific json">
<p>No content</p>
</blockquote>
<pre class="highlight json"><code></code></pre>

<p>This endpoint deletes a specific target.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://backoffice.mailperformance.com/targets/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the target to delete</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>Success &ndash; No content</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your target ID was not found</td>
</tr>
</tbody></table>

          <h1 id="import">Import</h1>

<h2 id="get-a-specific-import-definition">Get a specific import definition</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/imports/12345"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/imports/12345"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Import 04-04-2016 10 54"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-04T06:54:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"binding"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nt">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segmentation"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"segmentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
      </span><span class="nt">"emptyExisitingSegment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"duplicate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"report"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sendFinalReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sendErrorReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contactGuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ABCDE0123"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"groupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updateExisting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"crushData"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PlhUx08CxS_import.csv"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific import.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/imports/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the import to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your import ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-a-specific-import-definition">Create a specific import definition</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$action</span> <span class="o">=</span>  <span class="p">[</span>
    <span class="s2">"name"</span>                         <span class="o">=&gt;</span> <span class="s2">"Manual Import"</span><span class="p">,</span>
    <span class="s2">"features"</span>                     <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">"type"</span>                 <span class="o">=&gt;</span> <span class="s2">"segmentation"</span><span class="p">,</span>
            <span class="s2">"segmentId"</span>            <span class="o">=&gt;</span> <span class="mi">1234</span><span class="p">,</span>
            <span class="s2">"emptyExisitingSegment"</span><span class="o">=&gt;</span> <span class="kc">false</span>
        <span class="p">],</span> <span class="p">[</span>
            <span class="s2">"type"</span>                 <span class="o">=&gt;</span> <span class="s2">"duplicate"</span><span class="p">,</span>
            <span class="s2">"rules"</span>                <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s2">"ignore"</span>           <span class="o">=&gt;</span> <span class="kc">true</span>
            <span class="p">]</span>
        <span class="p">],</span> <span class="p">[</span>
            <span class="s2">"type"</span>                 <span class="o">=&gt;</span> <span class="s2">"report"</span><span class="p">,</span>
            <span class="s2">"sendFinalReport"</span>      <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"sendErrorReport"</span>      <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"contactGuids"</span>         <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"1234ABCD"</span><span class="p">],</span>
            <span class="s2">"groupIds"</span>             <span class="o">=&gt;</span> <span class="p">[]</span>
        <span class="p">],</span> <span class="p">[</span>
            <span class="s2">"type"</span>                 <span class="o">=&gt;</span> <span class="s2">"database"</span><span class="p">,</span>
            <span class="s2">"updateExisting"</span>       <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">"crushData"</span>            <span class="o">=&gt;</span> <span class="kc">false</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"binding"</span>                      <span class="o">=&gt;</span> <span class="mi">1234</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/imports/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/Imports/createAutoImports.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/Imports/createAutoImports.php
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/Imports/createManualImportOn2Steps.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/Imports/createManualImportOn2Steps.php
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/php/Imports/createManualImports.php" target="_blank">
    https://github.com/NP6/CookBook/blob/master/php/Imports/createManualImports.php
  </a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">firstBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">firstBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">secondBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">secondBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">thirdBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">thirdBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="o">-</span><span class="mi">10</span><span class="o">);</span>

<span class="n">JSONArray</span> <span class="n">binds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONArray</span><span class="o">();</span>
<span class="n">binds</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">firstBind</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">secondBind</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">thirdBind</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">importBinding</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">importBinding</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Binding file mail contact bis"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"separator"</span><span class="o">,</span> <span class="mi">59</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"startAt"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"binds"</span><span class="o">,</span> <span class="n">binds</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"savedImportFormat"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">importBinding</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/imports/"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>

<blockquote class="lang-specific java">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/Imports/createAutoImport.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/Imports/createAutoImports.java
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/Imports/createManualImportOn2Steps.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/Imports/createManualImportOn2Steps.java
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/java/Imports/createManualImports.java" target="_blank">
    https://github.com/NP6/CookBook/blob/master/java/Imports/createManualImports.java
  </a>
  </p>
</blockquote>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/imports"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="s">"Manual Import"</span><span class="p">,</span>
    <span class="n">features</span><span class="p">:</span> <span class="p">[{</span>
        <span class="n">type</span><span class="p">:</span> <span class="s">"segmentation"</span><span class="p">,</span>
        <span class="n">segmentId</span><span class="p">:</span> <span class="m">1234</span><span class="p">,</span>
        <span class="n">emptyExisitingSegment</span><span class="p">:</span> <span class="k">false</span>

    <span class="p">},</span> <span class="p">{</span>
        <span class="n">type</span><span class="p">:</span> <span class="s">"duplicate"</span><span class="p">,</span>
        <span class="n">rules</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">ignore</span><span class="p">:</span> <span class="k">true</span>

        <span class="p">}</span>

    <span class="p">},</span> <span class="p">{</span>
            <span class="n">type</span><span class="p">:</span> <span class="s">"report"</span><span class="p">,</span>
            <span class="n">sendFinalReport</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
            <span class="n">sendErrorReport</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
            <span class="n">contactGuids</span><span class="p">:</span> <span class="p">[</span><span class="s">"1234ABCD"</span><span class="p">],</span>
            <span class="n">groupIds</span><span class="p">:</span> <span class="p">[]</span>

    <span class="p">},</span> <span class="p">{</span>
            <span class="n">type</span><span class="p">:</span> <span class="s">"database"</span><span class="p">,</span>
            <span class="n">updateExisting</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
            <span class="n">crushData</span><span class="p">:</span> <span class="k">false</span>

    <span class="p">}],</span>
    <span class="n">binding</span><span class="p">:</span> <span class="m">1234</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>

<blockquote class="lang-specific csharp">
  <p>More detail here:
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createAutoImports.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createAutoImports.cs
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createManualImportOn2Steps.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createManualImportOn2Steps.cs
  </a>
  <br />
  <a href="https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createManualImports.cs" target="_blank">
    https://github.com/NP6/CookBook/blob/master/Csharp/Imports/createManualImports.cs
  </a>
  </p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/imports"</span> -d <span class="s1">'
{
    "name"                         : "Manual Import",
    "features"                     : [
        {
            "type"                 : "segmentation",
            "segmentId"            : 1234,
            "emptyExisitingSegment": false
        }, {
            "type"                 : "duplicate",
            "rules"                : {
                "ignore"           : true
            }
        }, {
            "type"                 : "report",
            "sendFinalReport"      : true,
            "sendErrorReport"      : true,
            "contactGuids"         : ["1234ABCD"],
            "groupIds"             : []
        }, {
            "type"                 : "database",
            "updateExisting"       : true,
            "crushData"            : false
        }
    ],
    "binding"                      : 1234
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manual Import"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-13T16:20:43.656Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"binding"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nt">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"segmentation"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"segmentId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
      </span><span class="nt">"emptyExisitingSegment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"duplicate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"report"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sendFinalReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sendErrorReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contactGuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1234ABCD"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"groupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updateExisting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"crushData"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-13T16:20:43.656Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates an import.</p>

<p>It is imperative to add the Accept request-header field :</p>

<p><code class="prettyprint">Accept: application/vnd.mperf.v8.import.v1+json</code></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/imports/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Import&rsquo;s name</td>
</tr>
<tr>
<td>features</td>
<td>array</td>
<td>false</td>
<td>Array containing all the features of the import</td>
</tr>
<tr>
<td>&mdash;- type</td>
<td>string</td>
<td>true</td>
<td>Name of the feature</td>
</tr>
<tr>
<td>&mdash;- segmentId</td>
<td>int</td>
<td>false</td>
<td>Id of the segment that will contain the import</td>
</tr>
<tr>
<td>&mdash;- emptyExisitingSegment</td>
<td>bool</td>
<td>false</td>
<td>Specify if you want to empty the segment before import or no</td>
</tr>
<tr>
<td>&mdash;- rules</td>
<td>array</td>
<td>false</td>
<td>Duplicate Rules</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; ignore</td>
<td>bool</td>
<td>false</td>
<td>Specify if the duplicate will be ignored</td>
</tr>
<tr>
<td>&mdash;- sendFinalReport</td>
<td>bool</td>
<td>true</td>
<td>Specify if the final report will be sent</td>
</tr>
<tr>
<td>&mdash;- sendErrorReport</td>
<td>bool</td>
<td>true</td>
<td>Specify if the error report will be sent</td>
</tr>
<tr>
<td>&mdash;- contactGuids</td>
<td>string[]</td>
<td>true</td>
<td>String array of all contact that will receive import report</td>
</tr>
<tr>
<td>&mdash;- groupIds</td>
<td>int[]</td>
<td>true</td>
<td>Int array of all groups that will receive import report</td>
</tr>
<tr>
<td>&mdash;- updateExisting</td>
<td>bool</td>
<td>true</td>
<td>Specify if the existing target will be update with the import</td>
</tr>
<tr>
<td>&mdash;- crushData</td>
<td>bool</td>
<td>true</td>
<td>Specify if the import will be crush the data</td>
</tr>
<tr>
<td>binding</td>
<td>int</td>
<td>false</td>
<td>Id of the binding to use with the import</td>
</tr>
<tr>
<td>scheduler</td>
<td>object</td>
<td>false</td>
<td>Scheduler object for auto import</td>
</tr>
<tr>
<td>&mdash;- type</td>
<td>string</td>
<td>true</td>
<td>For import automatic : type = &ldquo;periodic&rdquo;</td>
</tr>
<tr>
<td>&mdash;- name</td>
<td>string</td>
<td>true</td>
<td>Scheduler&rsquo;s name</td>
</tr>
<tr>
<td>&mdash;- frequency</td>
<td>object</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; occurs</td>
<td>object</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; type</td>
<td>string</td>
<td>true</td>
<td>Type : &ldquo;daily&rdquo; / &ldquo;weekly&rdquo; / &ldquo;monthly&rdquo;</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; days</td>
<td>string</td>
<td>false</td>
<td>If type = &ldquo;weekly&rdquo; : &ldquo;days&rdquo; = &ldquo;Mon&rdquo; (exemple)</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; periodicity</td>
<td>object</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; type</td>
<td>string</td>
<td>false</td>
<td>Type = &ldquo;Once&rdquo;</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash; value</td>
<td>object</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- hour</td>
<td>int</td>
<td>false</td>
<td>hour</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- minute</td>
<td>int</td>
<td>false</td>
<td>minute</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- second</td>
<td>int</td>
<td>false</td>
<td>second</td>
</tr>
<tr>
<td>&mdash;- validity</td>
<td>object</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; start</td>
<td>object</td>
<td>true</td>
<td>Date of start of the auto import</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- year</td>
<td>int</td>
<td>true</td>
<td>year</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- month</td>
<td>int</td>
<td>true</td>
<td>month</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- date</td>
<td>int</td>
<td>true</td>
<td>date</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- hour</td>
<td>int</td>
<td>true</td>
<td>hour</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- minute</td>
<td>int</td>
<td>true</td>
<td>minute</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- second</td>
<td>int</td>
<td>true</td>
<td>second</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; end</td>
<td>object</td>
<td>true</td>
<td>Date of end of the auto import</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- year</td>
<td>int</td>
<td>true</td>
<td>year</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- month</td>
<td>int</td>
<td>true</td>
<td>month</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- date</td>
<td>int</td>
<td>true</td>
<td>date</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- hour</td>
<td>int</td>
<td>true</td>
<td>hour</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- minute</td>
<td>int</td>
<td>true</td>
<td>minute</td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;- second</td>
<td>int</td>
<td>true</td>
<td>second</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-import-binding">Get a specific import binding</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/importFormats/1234"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/importFormats/1234"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/importFormats/1234"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/importFormats/1234"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Binding for file n. 42"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"separator"</span><span class="p">:</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">
  </span><span class="nt">"startAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"binds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"savedImportFormat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific binding.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/importFormats/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the binding to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your import ID was not found</td>
</tr>
</tbody></table>

<h2 id="create-a-specific-import-binding">Create a specific import binding</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$action</span> <span class="o">=</span>  <span class="p">[</span>
    <span class="s2">"name"</span>                  <span class="o">=&gt;</span> <span class="s2">"Binding file mail contact"</span><span class="p">,</span>
    <span class="s2">"separator"</span>             <span class="o">=&gt;</span> <span class="mi">59</span><span class="p">,</span>
    <span class="s2">"startAt"</span>               <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"binds"</span>                 <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">"columnIndex"</span>   <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">"fieldId"</span>       <span class="o">=&gt;</span> <span class="mi">1234</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">"columnIndex"</span>   <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">"fieldId"</span>       <span class="o">=&gt;</span> <span class="mi">1234</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">"columnIndex"</span>   <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">"fieldId"</span>       <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">10</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"savedImportFormat"</span>     <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/importFormats/"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">firstBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">firstBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">secondBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">secondBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">thirdBind</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">thirdBind</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"columnIndex"</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fieldId"</span><span class="o">,</span> <span class="o">-</span><span class="mi">10</span><span class="o">);</span>

<span class="n">JSONArray</span> <span class="n">binds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONArray</span><span class="o">();</span>
<span class="n">binds</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">firstBind</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">secondBind</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">thirdBind</span><span class="o">);</span>

<span class="n">JSONObject</span> <span class="n">mailMessage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>

<span class="n">mailMessage</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Binding file mail contact bis"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"separator"</span><span class="o">,</span> <span class="mi">59</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"startAt"</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"binds"</span><span class="o">,</span> <span class="n">binds</span><span class="o">)</span>
    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"savedImportFormat"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>
<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">mailMessage</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/importFormats/"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/importFormats"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Binding file mail contact bis"</span><span class="p">,</span>
    <span class="n">separator</span> <span class="p">=</span> <span class="m">59</span><span class="p">,</span>
    <span class="n">startAt</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
    <span class="n">binds</span> <span class="p">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="n">columnIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span>
            <span class="n">fieldId</span> <span class="p">=</span> <span class="m">1234</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="n">columnIndex</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">fieldId</span> <span class="p">=</span> <span class="m">1234</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="n">columnIndex</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>
            <span class="n">fieldId</span> <span class="p">=</span> <span class="p">-</span><span class="m">10</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="n">savedImportFormat</span> <span class="p">=</span> <span class="k">true</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/importFormats"</span> -d <span class="s1">'
{
    "name"                  : "Binding file mail contact",
    "separator"             : 59,
    "startAt"               : 1,
    "binds"                 : [
        {
            "columnIndex"   : 0,
            "fieldId"       : 1234
        },
        {
            "columnIndex"   : 1,
            "fieldId"       : 1234
        },
        {
            "columnIndex"   : 2,
            "fieldId"       : -10
        }
    ],
    "savedImportFormat"     : true
}'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Binding file mail contact"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"separator"</span><span class="p">:</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">
  </span><span class="nt">"startAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"binds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"savedImportFormat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint create a new Binding.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/importFormats</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>true</td>
<td>Binding&rsquo;s name</td>
</tr>
<tr>
<td>separator</td>
<td>int</td>
<td>true</td>
<td>ASCII value of the separator</td>
</tr>
<tr>
<td>startAt</td>
<td>int</td>
<td>true</td>
<td>Value of start</td>
</tr>
<tr>
<td>binds</td>
<td>array</td>
<td>true</td>
<td>Array containing all the bindings</td>
</tr>
<tr>
<td>&mdash;- columnIndex</td>
<td>int</td>
<td>true</td>
<td>Position of the column</td>
</tr>
<tr>
<td>&mdash;- fieldId</td>
<td>int</td>
<td>true</td>
<td>Id corresponding to the column</td>
</tr>
<tr>
<td>savedImportFormat</td>
<td>bool</td>
<td>true</td>
<td>Specify if the binding will be safe</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; A import binding with this name already exists</td>
</tr>
</tbody></table>

<h2 id="associate-a-source-to-a-specific-import">Associate a source to a specific import</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$fileContent</span> <span class="o">=</span> <span class="s2">"nom;prenom;email;</span><span class="se">\n</span><span class="s2">Dupont;Jean;JD@test.com"</span><span class="p">;</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"content-type: application/octet-stream"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span><span class="p">,</span>
    <span class="s2">"content-disposition: form-data; filename=filename.csv"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/imports/12345/source"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"PUT"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$fileContent</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">String</span> <span class="n">fileContent</span> <span class="o">=</span> <span class="s">"nom;prenom;email;\nDupont;Jean;JD@test.com"</span><span class="o">;</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/octet-stream"</span><span class="o">);</span>

<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">fileContent</span><span class="o">);</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345/source"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-disposition"</span><span class="o">,</span> <span class="s">"form-data; filename=filename.csv"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/octet-stream"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">fileContent</span> <span class="p">=</span> <span class="s">"nom;prenom;email;\nDupont;Jean;JD@test.com"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345/source"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">PUT</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/octet-stream"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-disposition"</span><span class="p">,</span> <span class="s">"form-data; filename=filename.csv"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/octet-stream"</span><span class="p">,</span> <span class="n">fileContent</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/octet-stream"</span>
     -H <span class="s2">"Content-disposition: form-data; filename=filename.csv"</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span>
     -X PUT <span class="s2">"https://backoffice.mailperformance.com/imports/12345/source"</span>
     -d <span class="s1">'nom;prenom;email;\nDupont;Jean;JD@test.com'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-14T15:03:24.788Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3ec15c5168_filename.csv"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint associate a source file to an import.</p>

<p>It is imperative to add the Accept request-header field :</p>

<p><code class="prettyprint">Accept: application/vnd.mperf.v8.import.v1+json</code></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://backoffice.mailperformance.com/imports/&lt;ID&gt;/source</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the import to update</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<p>You will send a String that is the content of the file.</p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your import ID was not found</td>
</tr>
</tbody></table>

<h2 id="execute-a-specific-import">Execute a specific import</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$action</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"binding"</span>                  <span class="o">=&gt;</span> <span class="mi">1234</span>
<span class="p">];</span>

<span class="nv">$data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$action</span><span class="p">);</span>

<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span><span class="p">,</span>
    <span class="s2">"content-type: application/json"</span><span class="p">,</span>
    <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span><span class="p">,</span>
    <span class="s2">"Content-Length: "</span> <span class="o">.</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$data</span><span class="p">)</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/imports/12345/executions"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span><span class="p">,</span>
    <span class="nx">CURLOPT_POSTFIELDS</span>      <span class="o">=&gt;</span> <span class="nv">$data</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">JSONObject</span> <span class="n">imports</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
<span class="n">imports</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"binding"</span><span class="o">,</span> <span class="mi">1234</span><span class="o">);</span>

<span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">MediaType</span> <span class="n">mediaType</span> <span class="o">=</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"application/json"</span><span class="o">);</span>

<span class="n">RequestBody</span> <span class="n">body</span> <span class="o">=</span> <span class="n">RequestBody</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">mediaType</span><span class="o">,</span> <span class="n">imports</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345/executions"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">body</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"cache-control"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"Accept"</span><span class="o">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/imports/12345/executions"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/vnd.mperf.v8.import.v1+json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span>
    <span class="n">binding</span> <span class="p">=</span> <span class="m">1234</span>
<span class="p">});</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> -H <span class="s2">"Content-Type: application/json"</span>
     -H <span class="s2">"Accept: application/vnd.mperf.v8.import.v1+json"</span>
     -X POST <span class="s2">"https://backoffice.mailperformance.com/imports/12345/executions"</span>
     -d <span class="s1">'{ "binding": 1234 }'</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-14T15:49:48.568Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"report"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sendFinalReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sendErrorReport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"contactGuids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"1234ABCD"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"groupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"database"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updateExisting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"crushData"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"guid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Binding file mail contact"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"separator"</span><span class="p">:</span><span class="w"> </span><span class="mi">59</span><span class="p">,</span><span class="w">
        </span><span class="nt">"startAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"binds"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"columnIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"savedImportFormat"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updateDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-14T15:03:24.788Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3ec15c5168_filename.csv"</span><span class="w">
    </span><span class="p">}</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint start a new execution for an import.</p>

<p>It is imperative to add the Accept request-header field :</p>

<p><code class="prettyprint">Accept: application/vnd.mperf.v8.import.v1+json</code></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://backoffice.mailperformance.com/imports/&lt;ID&gt;/executions</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the import to execute</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>binding</td>
<td>int</td>
<td>true</td>
<td>Id of the binding to use with the import</td>
</tr>
<tr>
<td>features</td>
<td>array</td>
<td>false</td>
<td>Array containing all the features of the import</td>
</tr>
<tr>
<td>&mdash;- type</td>
<td>string</td>
<td>true</td>
<td>Name of the feature</td>
</tr>
<tr>
<td>&mdash;- segmentId</td>
<td>int</td>
<td>false</td>
<td>Id of the segment that will contain the import</td>
</tr>
<tr>
<td>&mdash;- emptyExisitingSegment</td>
<td>bool</td>
<td>false</td>
<td>Specify if you want to empty the segment before import or no</td>
</tr>
<tr>
<td>&mdash;- rules</td>
<td>array</td>
<td>false</td>
<td>Duplicate Rules</td>
</tr>
<tr>
<td>&mdash;&mdash;&ndash; ignore</td>
<td>bool</td>
<td>false</td>
<td>Specify if the duplicate will be ignored</td>
</tr>
<tr>
<td>&mdash;- sendFinalReport</td>
<td>bool</td>
<td>true</td>
<td>Specify if the final report will be sent</td>
</tr>
<tr>
<td>&mdash;- sendErrorReport</td>
<td>bool</td>
<td>true</td>
<td>Specify if the error report will be sent</td>
</tr>
<tr>
<td>&mdash;- contactGuids</td>
<td>string[]</td>
<td>true</td>
<td>String array of all contact that will receive import report</td>
</tr>
<tr>
<td>&mdash;- groupIds</td>
<td>int[]</td>
<td>true</td>
<td>Int array of all groups that will receive import report</td>
</tr>
<tr>
<td>&mdash;- updateExisting</td>
<td>bool</td>
<td>true</td>
<td>Specify if the existing target will be update with the import</td>
</tr>
<tr>
<td>&mdash;- crushData</td>
<td>bool</td>
<td>true</td>
<td>Specify if the import will be crush the data</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

          <h1 id="statistics">Statistics</h1>

<h2 id="get-all-aggregated-statistics">Get all Aggregated Statistics</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://api-cm.np6.com/actions/000ABC/statistics"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote class="lang-specific php">
  <p>go to:
  </br><a href="https://github.com/NP6/CookBook/blob/master/php/createCategory.php" target="_blank">https://github.com/NP6/CookBook/blob/master/php/createCategory.php</a>
  </p>
</blockquote>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/statistics"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/statistics"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/statistics"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dispatch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"sent"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rejected"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redlist"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"blacklist"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"marketingPressure"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"emptyAddress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"exclusions"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"feedback"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"reactive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unique"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"opening"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"opener"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"click"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"clicker"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"effective"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"roi"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"commands"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"products"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"social"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"shares"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"bounce"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"soft"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hard"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"spam"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"redlist"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"unsubscribe"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"form"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"list"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"complaint"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"aol"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"comcast"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hotmail"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"spamcopauto"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sspam"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves statistics of an action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/actions/&lt;ID&gt;/statistics</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the action</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not found &ndash; Your action ID was not found</td>
</tr>
</tbody></table>

<h2 id="get-all-npai-targets">Get all NPAI Targets</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/bounces"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/bounces"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/bounces"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets/bounces"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y5O9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Requested action not taken: mailbox unavailable5.1.0 - Unknown address error"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-09-05T19:06:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y6XT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0.0 (undefined status)smtp;550 &lt;0616382401@sfr.fr&gt;: Recipient address rejected: User unknown"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-20T10:55:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y6XU"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.1.1 (bad destination mailbox address)smtp;550 5.1.1 unknown or illegal alias: 0661956223@imode.fr"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-20T10:55:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y6XV"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.1.1 (bad destination mailbox address)smtp;550 5.1.1 unknown or illegal alias: 066206620662032528@imode.fr"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-20T10:55:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y6XX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0.0 (undefined status)smtp;550 5.2.1 This mailbox has been blocked due to inactivity"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-20T10:55:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003Y6XY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounces"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardUser"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fieldId"</span><span class="p">:</span><span class="w"> </span><span class="mi">788</span><span class="p">,</span><span class="w">
        </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.0.0 (undefined status)smtp;550 Requested action not taken: mailbox unavailable"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-20T10:55:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all NPAI targets.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets/bounces</code></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-a-specific-npai-target">Get a specific NPAI Target</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/feedbacks/bounces"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/feedbacks/bounces"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/actions/000ABC/feedbacks/bounces"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/actions/000ABC/feedbacks/bounces"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003YC4O"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-02-01T22:09:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000424N1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2009-02-01T22:09:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bounceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all specific NPAI Targets of an action.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/actions/&lt;ID&gt;/feedbacks/bounces</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Your action ID was not found</td>
</tr>
</tbody></table>

<h2 id="get-all-redlist-targets-mail">Get all redlist Targets (mail)</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/redlist/mail"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/redlist/mail"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/redlist/mail"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets/redlist/mail"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003YB53"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-12-16T15:26:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"formId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000GH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0003YB57"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-11-25T15:47:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all mail redlist targets.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets/redlist/mail</code></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

<h2 id="get-all-redlist-targets-sms">Get all redlist Targets (sms)</h2>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nv">$httpHeader</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"x-key: YOUR XKEY"</span>
<span class="p">];</span>

<span class="nv">$opts</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">CURLOPT_URL</span>             <span class="o">=&gt;</span> <span class="s2">"https://backoffice.mailperformance.com/targets/redlist/sms"</span><span class="p">,</span>
    <span class="nx">CURLOPT_CUSTOMREQUEST</span>   <span class="o">=&gt;</span> <span class="s2">"GET"</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTP_VERSION</span>    <span class="o">=&gt;</span> <span class="nx">CURL_HTTP_VERSION_1_1</span><span class="p">,</span>
    <span class="nx">CURLOPT_RETURNTRANSFER</span>  <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">CURLOPT_TIMEOUT</span>         <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="nx">CURLOPT_HTTPHEADER</span>      <span class="o">=&gt;</span> <span class="nv">$httpHeader</span>
<span class="p">];</span>

<span class="nb">curl_setopt_array</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nv">$opts</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nv">$err</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight java"><code><span class="n">OkHttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OkHttpClient</span><span class="o">();</span>

<span class="n">Request</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Request</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
  <span class="o">.</span><span class="na">url</span><span class="o">(</span><span class="s">"https://backoffice.mailperformance.com/targets/redlist/sms"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">get</span><span class="o">()</span>
  <span class="o">.</span><span class="na">addHeader</span><span class="o">(</span><span class="s">"x-key"</span><span class="o">,</span> <span class="s">"YOUR XKEY"</span><span class="o">)</span>
  <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Response</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">newCall</span><span class="o">(</span><span class="n">request</span><span class="o">).</span><span class="na">execute</span><span class="o">();</span>
</code></pre>
<pre class="highlight csharp"><code><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://backoffice.mailperformance.com/targets/redlist/sms"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>

<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"x-key"</span><span class="p">,</span> <span class="s">"YOUR XKEY"</span><span class="p">);</span>

<span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"X-Key: YOUR XKEY"</span> <span class="s2">"https://backoffice.mailperformance.com/targets/redlist/sms"</span>
</code></pre>

<blockquote class="lang-specific json">
  <p>The request returns a JSON structured like this: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000ABCD1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T08:01:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all sms redlist targets.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://backoffice.mailperformance.com/targets/redlist/sms</code></p>

<h3 id="return-codes">Return Codes</h3>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Success &ndash; OK</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>The MailPerformance API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your json is probably wrong</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You don&rsquo;t have permission for this request</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>409</td>
<td>Conflict &ndash; This resource already exists</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="json">Body / Response</a>
          </div>
      </div>
    </div>
  </body>
</html>
